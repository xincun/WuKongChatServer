# 悟空聊天IM API
悟空聊天IM API

## Version: 1.0.0

### Security
**token**  

|apiKey|*API Key*|
|---|---|
|In|header|
|Name|token|
|Description|用户token|

### /user/register

#### POST
##### Summary

用户注册

##### Description

用户注册

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body | 注册请求 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 返回 | [UserLoginResp](#userloginresp) |
| 400 | 错误 | [response](#response) |

### /user/login

#### POST
##### Summary

用户登录

##### Description

用户登录

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body | 登录请求 | Yes | [UserLoginReq](#userloginreq) |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 返回 | [UserLoginResp](#userloginresp) |
| 400 | 错误 | [response](#response) |

### /user/search

#### GET
##### Summary

搜索用户（精准查询）

##### Description

搜索用户（精准查询

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| keyword | query | 关键字 | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 返回 | [UserExistResp](#userexistresp) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /users/{uid}

#### GET
##### Summary

获取指定uid的用户信息

##### Description

获取指定uid的用户信息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| uid | path | 用户uid | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 返回 | [UserDetailResp](#userdetailresp) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /users/{uid}/setting

#### PUT
##### Summary

修改用户设置

##### Description

修改用户设置

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| uid | path | 用户uid | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 返回 | [UserSettingReq](#usersettingreq) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /user/device_token

#### POST
##### Summary

注册用户设备

##### Description

注册用户设备

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body |  | No | [UserDeviceReq](#userdevicereq) |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 返回 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

#### DELETE
##### Summary

卸载用户设备

##### Description

卸载用户设备

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 返回 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /user/device_badge

#### POST
##### Summary

注册设备红点数量

##### Description

注册设备红点数量

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body |  | No |  |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 返回 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /user/grant_login

#### GET
##### Summary

授权登录

##### Description

授权登录（app扫描授权登录，例如PC端二维码登录）

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| auth_code | query | 授权码 | No | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 返回 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /user/devices

#### GET
##### Summary

获取用户登录设备

##### Description

获取用户登录设备

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 返回 | [  ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /user/devices/{device_id}

#### DELETE
##### Summary

删除登录设备

##### Description

删除登录设备

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| device_id | path | 设备ID | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 |  |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /user/customerservices

#### GET
##### Summary

客服列表

##### Description

客服列表

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [  ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /user/chatpwd

#### POST
##### Summary

设置用户聊天密码

##### Description

设置用户聊天密码

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body | 请求数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /user/blacklists

#### GET
##### Summary

用户黑名单列表

##### Description

用户黑名单列表

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [  ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /user/blacklist/{uid}

#### DELETE
##### Summary

移除黑名单

##### Description

移除黑名单

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| uid | path | 被移除的用户ID | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

#### POST
##### Summary

添加黑名单

##### Description

添加黑名单

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| uid | path | 添加的用户ID | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /user/sms/login_check_phone

#### POST
##### Summary

发送登录设备验证验证码

##### Description

发送登录设备验证验证码

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body | 请求数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

### /user/login/check_phone

#### POST
##### Summary

登录验证设备手机号

##### Description

登录验证设备手机号

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body | 请求数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

### /user/sms/registercode

#### POST
##### Summary

获取注册短信

##### Description

获取注册短信

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body | 请求数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

### /users/{uid}/im

#### POST
##### Summary

获取用户所在IM节点信息

##### Description

获取用户所在IM节点信息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| uid | path | 请求数据 | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /users/current

#### PUT
##### Summary

修改用户信息

##### Description

修改用户信息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body | 请求数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /user/chat/online

#### GET
##### Summary

获取在线用户

##### Description

获取在线用户

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [  ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /friend/apply

#### POST
##### Summary

申请加好友

##### Description

申请加好友,系统将发送消息给被加人，消息里带有这次操作的凭证token

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body | 请求数据 | Yes | [ApplyReq](#applyreq) |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 |  |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /friend/sure

#### POST
##### Summary

确认好友申请

##### Description

确认好友申请（接收好友申请的人，确认当前申请的时候调用，当确认成功后系统将发送消息给对方，对方收到消息后需要同步自己的好友数据）

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body | 请求数据 | Yes | [SureReq](#surereq) |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 |  |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /friend/sync

#### POST
##### Summary

同步好友信息

##### Description

同步好友信息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| sync_key | query | 同步key,格式： 最新更新时间@id | No | string |
| limit | query | 最大限制 | No | long |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ [FriendResp](#friendresp) ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /friend/online

#### POST
##### Summary

同步最近在线聊天的好友

##### Description

同步最近在线聊天的好友

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ object ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /message/sync

#### POST
##### Summary

消息同步

##### Description

消息同步,如果传了频道ID则表示同步指定频道的消息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body | 同步请求 | No | [MsgSyncReq](#msgsyncreq) |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ [MsgSyncResp](#msgsyncresp) ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /message

#### DELETE
##### Summary

删除消息

##### Description

删除消息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| message_id | query | 消息唯一ID（如果是删除单个消息只需要填写此字段，如果是删除频道内的所有消息则不需要填写此字段） | No | integer |
| channel_id | query | 频道唯一ID | No | string |
| channel_type | query | 频道类型 1.单聊 2.群聊 | No | integer |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ [response](#response) ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /message/revoke

#### POST
##### Summary

撤回消息

##### Description

撤回消息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| message_id | query | 需要撤回的消息id | No | integer |
| channel_id | query | 频道唯一ID | No | string |
| channel_type | query | 频道类型 1.单聊 2.群聊 | No | integer |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ [response](#response) ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /message/syncack/{last_message_seq}

#### POST
##### Summary

消息同步回执

##### Description

消息同步回执

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| last_message_seq | path | 最后一次消息的message_seq | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ [response](#response) ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /group/create

#### POST
##### Summary

创建群组

##### Description

创建群组

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| req | body | 请求 | No | [GroupCreateReq](#groupcreatereq) |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [GroupResp](#groupresp) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /groups/{group_no}

#### GET
##### Summary

查询群信息

##### Description

查询群信息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path | 请求 | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [GroupResp](#groupresp) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

#### PUT
##### Summary

更新群组

##### Description

创建群组

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path |  | Yes | string |
| req | body | 如果只需要修改群名则只需要传name 同理修改公告只需要传notice | No | [GroupUpdateReq](#groupupdatereq) |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /groups/{group_no}/setting

#### PUT
##### Summary

更新群设置

##### Description

更新群设置

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path |  | Yes | string |
| req | body | 如果只需要修改群免打扰则只需要传mute 同理修改置顶只需要传top，所有参数 0.表示关闭 1.表示打开 | No | [GroupSettingUpdateReq](#groupsettingupdatereq) |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /groups/{group_no}/members

#### POST
##### Summary

添加群成员

##### Description

添加群成员

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path |  | Yes | string |
| req | body | 请求 | No | [GroupmemberAddReq](#groupmemberaddreq) |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

#### DELETE
##### Summary

移除群成员

##### Description

移除群成员

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path |  | Yes | string |
| req | body | 请求 | No | [GroupmemberRemoveReq](#groupmemberremovereq) |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /groups/{group_no}/members/{uid}

#### PUT
##### Summary

修改群成员信息

##### Description

修改群成员信息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path | 群编号 | Yes | string |
| uid | path | 群成员uid | Yes | string |
| req | body | 请求 | No | [GroupMemberUpdateReq](#groupmemberupdatereq) |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /groups/{group_no}/membersync

#### GET
##### Summary

同步群成员

##### Description

同步群成员

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path |  | Yes | string |
| version | query | 数据版本号 | No | string |
| limit | query | 限量 | No | integer |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ [MemberDetailResp](#memberdetailresp) ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /groups/{group_no}/managers

#### POST
##### Summary

添加群管理员

##### Description

添加群管理员

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path |  | Yes | string |
| req | body | 请求 | No | [ string ] |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

#### DELETE
##### Summary

移除群管理员

##### Description

移除群管理员

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path |  | Yes | string |
| req | body | 请求 | No | [ string ] |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /groups/{group_no}/forbidden/{on}

#### POST
##### Summary

全员禁言

##### Description

全员禁言

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path |  | Yes | string |
| on | path | 0.关闭禁言 1.开启禁言 | Yes | number |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /groups/{group_no}/qrcode

#### GET
##### Summary

获取群二维码信息

##### Description

获取群二维码信息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path |  | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /groups/{group_no}/transfer/{to_uid}

#### POST
##### Summary

群主转让

##### Description

群主转让

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path | 转让的群唯一编号 | Yes | string |
| to_uid | path | 接受者用户uid | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /groups/{group_no}/member/invite

#### POST
##### Summary

群成员邀请

##### Description

群成员邀请，群开启邀请确认后调用此接口进行邀请，直接添加群成员的接口将不对普通成员开放。

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path | 群唯一编号 | Yes | string |
| req | body | 接受者用户uid | No | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /groups/{group_no}/member/h5confirm

#### GET
##### Summary

获取邀请确认界页面的url（带有授权码）

##### Description

可以获取到带有授权码的邀请确认界页面的url，仅管理员或群主可获取

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| group_no | path | 群唯一编号 | Yes | string |
| invite_no | query | 邀请唯一编号 | No | string |
| req | body | 接受者用户uid | No | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /conversations

#### GET
##### Summary

获取当前用户最近会话

##### Description

获取当前用户最近会话

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ [ConversationResp](#conversationresp) ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /qrcode/{code}

#### GET
##### Summary

处理二维码信息

##### Description

处理二维码信息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| code | path | 二维码code | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /favorite/my

#### GET
##### Summary

我的收藏列表

##### Description

我的收藏列表

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| page_index | query | 页码 | No | integer |
| page_size | query | 页大小 | No | integer |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ object ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /favorites

#### POST
##### Summary

添加收藏

##### Description

添加收藏

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| body | body | 提交数据 | Yes | object |
| page_size | query | 页大小 | Yes | integer |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /favorites/{no}

#### DELETE
##### Summary

删除收藏

##### Description

删除收藏

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| no | path | 收藏唯一编号 | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/my

#### GET
##### Summary

我的钱包信息

##### Description

我的钱包信息

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/channel/recharge

#### GET
##### Summary

获取充值渠道

##### Description

获取充值渠道

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ object ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/recharge

#### POST
##### Summary

钱包充值

##### Description

钱包充值

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| body | body | 提交数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/pay/smscode/paypwd

#### POST
##### Summary

发送支付验证码

##### Description

发送支付验证码

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/pay/smscode/paypwdverity

#### POST
##### Summary

验证码修改支付密码的短信验证码

##### Description

验证码修改支付密码的短信验证码

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| body | body | 提交数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/pay/password

#### POST
##### Summary

设置支付密码

##### Description

设置支付密码

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| body | body | 提交数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/pay/token

#### POST
##### Summary

获取支付token

##### Description

获取支付token

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| body | body | 提交数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/records

#### GET
##### Summary

钱包交易记录

##### Description

钱包交易记录

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| page_index | query | 页码 | No | integer |
| page_size | query | 页大小 | No | integer |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ object ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/customerservices

#### GET
##### Summary

客服列表

##### Description

客服列表

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ object ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/bankcards

#### POST
##### Summary

添加银行卡

##### Description

添加银行卡

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| body | body | 提交数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

#### GET
##### Summary

获取我绑定的银行卡

##### Description

获取我绑定的银行卡

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ object ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/banks

#### GET
##### Summary

获取银行列表

##### Description

获取银行列表

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ object ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/bankcard/info

#### GET
##### Summary

查询银行卡的信息

##### Description

查询银行卡的信息

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| bankcard | query | 银行卡 | No | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/nameauth

#### GET
##### Summary

查询我的实名认证信息

##### Description

查询我的实名认证信息

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/withdraw/explain

#### GET
##### Summary

提现描述

##### Description

提现描述

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /wallet/withdraw

#### POST
##### Summary

提现

##### Description

提现

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| body | body | 提交数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /redpackets

#### POST
##### Summary

创建红包

##### Description

创建红包

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| body | body | 提交数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /redpackets/{redpacket_no}/pay

#### POST
##### Summary

支付红包

##### Description

支付红包

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| redpacket_no | path | 红包编号 | Yes | string |
| body | body | 提交数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /redpackets/{redpacket_no}/get

#### GET
##### Summary

抢红包

##### Description

抢红包

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| redpacket_no | path | 红包编号 | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /redpackets/{redpacket_no}/open

#### POST
##### Summary

开红包

##### Description

开红包

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| redpacket_no | path | 红包编号 | Yes | string |
| body | body | 提交数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /redpackets/{redpacket_no}

#### GET
##### Summary

红包详情

##### Description

红包详情

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| redpacket_no | path | 红包编号 | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /redpacket/years

#### GET
##### Summary

红包记录可查询年份

##### Description

红包记录可查询年份

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ string ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /redpacket/statistics/out

#### GET
##### Summary

发送红包统计

##### Description

发送红包统计

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| year | query | 根据年份查询 | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /redpacket/statistics/in

#### GET
##### Summary

收到红包统计

##### Description

收到红包统计

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| year | query | 根据年份查询 | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /redpacket/record/out

#### GET
##### Summary

发送红包记录(分页)

##### Description

发送红包记录(分页)

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| year | query | 根据年份查询 | Yes | string |
| page_index | query | 页码 | No | integer |
| page_size | query | 页大小 | No | integer |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ object ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /redpacket/record/in

#### GET
##### Summary

收到红包记录(分页)

##### Description

收到红包记录(分页)

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| year | query | 根据年份查询 | Yes | string |
| page_index | query | 页码 | No | integer |
| page_size | query | 页大小 | No | integer |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [ object ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /transfers

#### POST
##### Summary

创建转账

##### Description

创建转账

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| body | body | 提交数据 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /transfers/{no}

#### GET
##### Summary

查询转账

##### Description

查询转账

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| no | path | 转账编号 | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /transfers/{no}/receive

#### POST
##### Summary

领取转账

##### Description

领取转账

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| no | path | 转账编号 | Yes | string |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /label

#### POST
##### Summary

添加标签

##### Description

添加标签

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| body | body | 标签内容 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

#### GET
##### Summary

标签列表

##### Description

标签列表

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [  ] |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### /label/{id}

#### PUT
##### Summary

修改标签

##### Description

修改标签

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| id | path | 标签ID | Yes | integer |
| body | body | 标签内容 | Yes | object |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

#### DELETE
##### Summary

删除标签

##### Description

删除标签

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| id | path | 标签ID | Yes | integer |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | [response](#response) |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

#### GET
##### Summary

标签详情

##### Description

删除详情

##### Parameters

| Name | Located in | Description | Required | Schema |
| ---- | ---------- | ----------- | -------- | ---- |
| id | path | 标签ID | Yes | integer |

##### Responses

| Code | Description | Schema |
| ---- | ----------- | ------ |
| 200 | 成功 | object |
| 400 | 错误 | [response](#response) |

##### Security

| Security Schema | Scopes |
| --- | --- |
| token | |

### Models

#### UserDeviceReq

最近会话对象

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| device_token | string | 设备token | No |
| device_type | string | 设备类型,IOS，MI:小米，HMS: 华为 | No |
| bundle_id | string | 应用唯一ID iOS为bundleID Android为包名 | No |

#### ConversationResp

最近会话对象

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| channel_id | string | 频道ID | No |
| channel_type | integer (uint8) | 频道类型 | No |
| unread | long | 未读消息数量 | No |
| last_message | [MsgSyncResp](#msgsyncresp) |  | No |

#### GroupMemberUpdateReq

群成员更新

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| remark | string | 成员备注 | No |

#### UserSettingReq

用户设置

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| mute | integer (int) | 免打扰 | No |
| top | integer (int) | 置顶 | No |

#### UserDetailResp

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| uid | string | 用户唯一ID | No |
| name | string | 用户名字 | No |
| mute | integer (int) | 免打扰 | No |
| top | integer (int) | 置顶 | No |

#### GroupResp

群信息

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| group_no | string | 群唯一编号 | No |
| name | string | 群名称 | No |
| created_at | string | 创建时间 | No |
| version | integer | 数据版本号 | No |
| mute | integer (int) | 免打扰 | No |
| top | integer (int) | 置顶 | No |
| save | integer (int) | 保存到通讯录 | No |
| show_nick | integer (int) | 显示群成员昵称 | No |
| updated_at | string | 更新时间 | No |

#### MemberDetailResp

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| id | integer (uint64) | 唯一ID | No |
| uid | string | 用户uid | No |
| name | string | 成员名称 | No |
| remark | string | 成员备注 | No |
| role | integer (int) | 成员角色 0.普通成员  1.创建者 2.管理者 | No |
| is_deleted | integer (int) | 是否已删除 0.否 1.是 | No |
| created_at | string | 创建时间 | No |
| updated_at | string | 更新时间 | No |

#### GroupmemberRemoveReq

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| members | [ string ] | 成员uid集合 | No |

#### GroupmemberAddReq

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| members | [ string ] | 成员uid集合 | No |

#### GroupCreateReq

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| name | string | 群名 | No |
| members | [ string ] | 成员uid集合 | No |

#### GroupSettingUpdateReq

群设置

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| mute | integer (int) | 免打扰 | No |
| top | integer (int) | 置顶 | No |
| save | integer (int) | 保存到通讯录 | No |
| show_nick | integer (int) | 显示群成员昵称 | No |

#### GroupUpdateReq

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| name | string | 群名 | No |
| notice | string | 群公告 | No |
| invite | number | 是否开启确认邀请 0.否 1.是 | No |

#### MsgSyncReq

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| max_message_seq | string | 客户端最大消息序列号 | No |
| limit | integer | 消息数量限制 | No |
| channel_id | string | 频道ID | No |
| channel_type | integer (uint8) | 频道类型 | No |

#### MsgSyncResp

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| message_id | integer (uint64) | 服务端的消息ID(全局唯一) | No |
| message_seq | integer (uint32) | 消息序列号 （用户唯一，有序递增） | No |
| from_uid | string | 发送者UID | No |
| to_uid | string | 接受者uid | No |
| channel_id | string | 频道ID | No |
| channel_type | integer (uint8) | 频道类型 | No |
| timestamp | integer | 服务器消息时间戳(10位，到秒) | No |
| payload | string | 消息内容(base64编码的) | No |

#### UserExistResp

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| exist | integer (int) | 是否存在用户 0.不存在 1.存在 | No |
| data | [UserResp](#userresp) |  | No |

#### UserResp

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| uid | string | 用户唯一ID | No |
| name | string | 用户名字 | No |

#### FriendResp

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| id | long | 唯一id,增量同步会用到 | No |
| to_uid | string | 好友uid | No |
| to_name | string | 好友名称 | No |
| created_at | string | 创建时间 | No |
| updated_at | string | 更新时间 | No |

#### SureReq

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| token | string | 申请加好友的凭证 | No |

#### ApplyReq

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| to_uid | string | 向谁申请好友 | No |
| remark | string | 加好友的备注 | No |

#### UserLoginReq

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| username | string | 用户名 | No |
| password | string | 密码 | No |
| name | string | 名字 | No |
| flag | integer (int) | 设备标示 0.APP 1.PC | No |
| device | object |  | No |

#### UserLoginResp

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| uid | string | 用户唯一ID | No |
| token | string | 用户凭证 | No |
| username | string | 登录用户名 | No |
| name | string | 用户名称 | No |
| sex | integer | 性别 | No |
| category | string | 用户分类 '客服' | No |
| short_no | string | 用户唯一短编号 | No |
| zone | string | 手机区号 | No |
| phone | string | 手机号 | No |
| setting | object | 用户设置 | No |

#### response

| Name | Type | Description | Required |
| ---- | ---- | ----------- | -------- |
| status | integer (int) |  | No |
| msg | string |  | No |
